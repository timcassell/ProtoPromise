# Change Log

## v3.5.0 - August 10, 2025

Enhancements:

- Added optional cleanup delegates to `PromiseAllGroup(<T>)`, `PromiseMergeGroup(<>).Add`, and `PromiseRaceGroup<T>`.
- Added `Promise(<T>).AppendResult` extension methods.

Optimizations:

- Enabled allocation-free callback invocation for `.{Then, Catch}`, etc. APIs if the promise is already rejected or canceled.
- Refactored `.{Then, Catch}`, etc. implementations to allow the JIT to tail-call optimize if it wants to.

Fixes:

- Fixed compile errors in Unity when certain pre-compiled dlls are used in the same project. (Thanks @andriy-coplay/@amykhaylyshyn)
- Fixed Unity memory leak bug with cached exceptions in 2021.2 or newer.

Deprecated:

- Deprecated `PromiseRaceWithIndexGroup(<T>)` types and `Promise(<T>).RaceWithIndex` functions.

Misc:

- `PromiseAllGroup(<T>).WaitAsync`, `PromiseMergeGroup(<>).WaitAsync`, and `PromiseRaceGroup(<T>).WaitAsync` will now be canceled if the source cancelation token that was passed to their `New` factory was canceled before all promises in the group completed (but it is not canceled immediately, it still waits for all promises to complete).